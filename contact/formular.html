<html>
    <head>
        <base href="http://127.0.0.1:5500/contact/" target="_parent">
        <link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@400;500;700&display=swap" rel="stylesheet">
        <style>
            body {
                margin: 0;
                font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                background-color: #e5efff;
            }
            .hs-form {
                width: 100%;
                max-width: 500px;
                padding: 30px;
                margin: 10 px;
                background: #e5efff;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                border-radius: 8px;
                box-sizing: border-box;
            }
            .hs-input {
                width: 100%;
                height: 40px;
                padding: 9px 10px;
                font-size: 16px;
                color: #33475b;
                border-width: 0 0 0 0;
                border-bottom: 1px solid #33475b;
                background-color: #eff3fa;
                margin-bottom: 18px;
                box-sizing: border-box;
            }
            .hs-input:focus {
                outline: none;
                border-color: rgba(82, 168, 236, .8);
            }
            .hs-button {
                width: 100%;
                cursor: pointer;
                display: inline-block;
                font-weight: 700;
                line-height: 12px;
                text-align: center;
                transition: all .15s linear;
                background-color: #da1754;
                border-color: #f32d6c;
                color: #fff;
                border-radius: 10px;
                border-style: solid;
                border-width: 1px;
                font-size: 14px;
                padding: 14px 26px;
                box-sizing: border-box;
            }
            .hs-button:hover, .hs-button:focus {
                background-color: #f32d6c;
                border-color: #f32d6c;
            }
            .hs-button:active {
                background-color: #f32d6c;
                border-color: #f32d6c;
            }
            .legal-consent-container {
                margin-bottom: 10px;
                font-size: x-small;
            }
            .error-message {
                color: red;
                font-size: 14px;
                margin-bottom: 18px;
            }
            .success-message {
                color: green;
                font-size: 16px;
                margin-top: 20px;
            }
            @media (max-width: 600px) {
                .hs-form {
                    padding: 10px;
                }
                .hs-input, .hs-button {
                    font-size: 14px;
                    padding: 8px 10px;
                }
            }
        </style>
    </head>
    <body>
        <div class="hs-form">
            <form id="hsForm_8461af39-b06b-42fa-9b95-94145181b056" method="POST" accept-charset="UTF-8" enctype="multipart/form-data" novalidate="" onsubmit="return validateForm(event)">
                <div style="display: flex; gap: 5px;">
                    <input id="firstname" name="firstname" required placeholder="Votre prénom*" type="text" class="hs-input" style="width: 50%;" inputmode="text" autocomplete="given-name">
                    <input id="lastname" name="lastname" style="width: 50%;" required placeholder="Votre nom*" type="text" class="hs-input" inputmode="text" autocomplete="family-name">
                </div>
                
                <input id="email" name="email" required placeholder="Votre e-mail professionnel*" type="email" class="hs-input" inputmode="email" autocomplete="email">
                <input id="phone" name="phone" required placeholder="Votre numéro de mobile*" type="tel" class="hs-input" inputmode="tel" autocomplete="tel">
                <select id="votre_budget" required class="hs-input" name="votre_budget">
                    <option disabled selected value="">Quel est votre budget ?*</option>
                    <option value="2 000€">&lt;2 000€</option>
                    <option value="1 500€- 10 000€">2 000€ - 10 000€</option>
                    <option value="1 500€- 25 000€">10 000€ - 25 000€</option>
                    <option value="25 000€ - 75 000€">25 000€ - 75 000€</option>
                    <option value="75 000€ - 100 000€">75 000€ - 100 000€</option>
                    <option value="> 100 000€">&gt;100 000€</option>
                </select>
                <select id="comment_avez_vous_connu_fotetsa__" required class="hs-input" name="comment_avez_vous_connu_fotetsa__">
                    <option disabled selected value="">Comment avez-vous connu Fotetsa ?*</option>
                    <option value="Google">Google</option>
                    <option value="LinkedIn">LinkedIn</option>
                    <option value="Networking">Networking</option>
                    <option value="Publicité">Publicité</option>
                    <option value="Événements">Événements</option>
                    <option value="Bouche à oreille">Bouche à oreille</option>
                    <option value="Recommandation">Recommandation</option>
                    <option value="Partenariat">Partenariat</option>
                    <option value="Autre">Autre</option>
                </select>
                <textarea id="message" class="hs-input" style="min-height: 90px;" name="message" required placeholder="Décrivez nous votre besoin en quelques mots*"></textarea>

                <input id="piece_jointe" class="hs-input" type="file" name="piece_jointe" size="30" multiple>
                <div class="legal-consent-container">
                    <p>
                        Fotetsa a besoin des coordonnées que vous nous fournissez pour vous contacter au sujet de nos produits et services. Consultez notre <a href="/politique-de-confidentialite/" rel="noopener">Politique de confidentialité</a> pour en savoir plus.
                    </p>
                </div>
                <div id="error-message" class="error-message"></div>
                <input type="submit" class="hs-button primary large" value="Envoyer">
            </form>
            <div id="success-message" class="success-message" style="display: none;">
                Merci d'avoir pris le temps de nous contacter via notre. Nous avons bien reçu votre demande et nous vous remercions pour l'intérêt que vous portez à Fotetsa.
                <br><br>
                Notre équipe va examiner votre demande et vous contactera dans les plus brefs délais pour discuter de votre projet. En attendant, n'hésitez pas à explorer notre site pour en savoir plus sur nos services : <a href="https://www.fotetsa.com">https://www.fotetsa.com</a>
            </div>
        </div>
        <script>
            function validateForm(event) {
                event.preventDefault();
                var isValid = true;
                var errorMessage = '';
                var fields = [
                    { id: 'firstname', regex: /^[a-zA-ZÀ-ÿ '-]+$/, message: 'Veuillez entrer un prénom valide.' },
                    { id: 'lastname', regex: /^[a-zA-ZÀ-ÿ '-]+$/, message: 'Veuillez entrer un nom valide.' },
                    { id: 'email', regex: /^[^\s@]+@[^\s@]+\.[^\s@]+$/, message: 'Veuillez entrer un e-mail valide.' },
                    { id: 'phone', regex: /^\+?[0-9\s-]{7,15}$/, message: 'Veuillez entrer un numéro de téléphone valide.' },
                    { id: 'votre_budget', regex: /.+/, message: 'Veuillez sélectionner votre budget.' },
                    { id: 'comment_avez_vous_connu_fotetsa__', regex: /.+/, message: 'Veuillez sélectionner comment vous avez connu Fotetsa.' },
                    { id: 'message', regex: /.+/, message: 'Veuillez décrire votre besoin.' }
                ];

                fields.forEach(function(field) {
                    var input = document.getElementById(field.id);
                    if (!field.regex.test(input.value)) {
                        input.style.borderColor = 'red';
                        errorMessage += field.message + '<br>';
                        isValid = false;
                    } else {
                        input.style.borderColor = '#cbd6e2';
                    }
                });

                if (!isValid) {
                    document.getElementById('error-message').innerHTML = errorMessage;
                    return false;
                }

                document.getElementById('error-message').innerHTML = '';

                var formData = new FormData(document.getElementById('hsForm_8461af39-b06b-42fa-9b95-94145181b056'));

                fetch('https://3.86.58.207/form', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        document.getElementById('hsForm_8461af39-b06b-42fa-9b95-94145181b056').style.display = 'none';
                        document.getElementById('success-message').style.display = 'block';
                    } else {
                        document.getElementById('error-message').innerHTML = 'Une erreur est survenue. Veuillez réessayer.';
                    }
                })
                .catch(error => {
                    document.getElementById('error-message').innerHTML = 'Une erreur est survenue. Veuillez réessayer.';
                });

                return false;
            }
        </script>
    </body>
</html>